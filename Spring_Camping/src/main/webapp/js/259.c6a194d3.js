"use strict";(self["webpackChunkcamping"]=self["webpackChunkcamping"]||[]).push([[259],{2259:function(t,e,o){o.r(e),o.d(e,{default:function(){return L}});var n=o(3396),s=o(7139);const i=t=>((0,n.dD)("data-v-115954fb"),t=t(),(0,n.Cn)(),t),l={class:"myNoteList"},a={class:"mynote_container"},d=i((()=>(0,n._)("div",{class:"select_container"},[(0,n._)("div",{class:"select_note"},[(0,n._)("select",{class:"select"},[(0,n._)("option",{value:"orderby_current"},"최신순"),(0,n._)("option",{value:"orderby_order"},"오래된 순"),(0,n._)("option",{vlaue:"orderby_shared"},"공유중")])])],-1))),c={class:"container-fluid"},r={class:"row"},h={class:"card-header"},u={class:"noteId"},m={class:"note_state"},p={class:"checkbox"},v=["id"],g=i((()=>(0,n._)("label",{for:"select_card"},null,-1))),_={class:"card-text"},b=i((()=>(0,n._)("hr",null,null,-1))),f={class:"card-title"};function y(t,e,o,i,y,I){return(0,n.wg)(),(0,n.iD)("template",null,[(0,n._)("div",l,[(0,n._)("div",a,[d,(0,n._)("div",c,[(0,n._)("div",r,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(y.listInfo,(t=>((0,n.wg)(),(0,n.iD)("div",{class:"card text-white bg-success mb-3",key:t.noteId},[(0,n._)("div",h,[(0,n._)("div",u,(0,s.zw)(t.noteId),1),(0,n._)("div",m,(0,s.zw)(t.noteState),1),(0,n._)("div",p,[y.show?((0,n.wg)(),(0,n.iD)("input",{key:0,type:"checkbox",id:t.noteId,name:"check_one"},null,8,v)):(0,n.kq)("",!0),g])]),(0,n._)("div",{class:"card-body",onClick:e[0]||(e[0]=t=>I.goMynote(t))},[(0,n._)("div",_,(0,s.zw)(t.writeDate),1),b,(0,n._)("div",f,(0,s.zw)(t.title),1)])])))),128))])])])])])}o(7658);var I=o(7273),w=o(2492),k=o.n(w),C={name:"MynoteList",data(){return{noteId:[],myNoteId:this.$route.params.noteId,listInfo:[],cardClass:["card text-white bg-secondary mb-3","card text-white bg-success mb-3","card text-white bg-dark mb-3","card text-dark bg-info mb-3","card text-white bg-danger mb-3"],show:!1,modalOpen:!1,inviteModalOpen:!1,inviteCancleModalOpen:!1}},created(){this.getInvitedListInfo()},methods:{showCheckBox(t){this.show=!this.show},deleteNote(){this.visible=!this.visible},inviteNote(){this.visible=!this.visible},deleteInvite(){this.visible=!this.visible},changeCardColor(){"공유중"===this.noteState?this.cardClass="card text-white bg-dark mb-3":this.cardClass="card text-white bg-success mb-3"},getInvitedListInfo(){const t=sessionStorage.getItem("email");console.log(t),fetch(`http://localhost:8087/java/invitedList/${t}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((t=>t.json())).then((t=>{this.listInfo=t})).catch((t=>console.log(t)))},findId(t){let e=t.target.parentElement.parentElement.firstChild.innerText;this.noteId.push(e),this.delNote()},checkedInfo(t){let e=document.querySelectorAll('input[type="checkbox"]');for(let o=0;o<e.length;o++)1==e[o].checked&&this.noteId.push(e[o].id);this.delNote()},goList(){this.$router.push({name:"MynoteList"})},delNote(){k().fire({title:"삭제하시겠습니까?",text:"입력한 내용이 삭제됩니다.",showCancelButton:!0,confirmButtonText:"삭제",cancelButtonText:"취소"}).then((t=>{if(t.isConfirmed){let t=this.noteId,e=[];for(let n=0;n<t.length;n++)e.push(t[n]);let o={noteIds:e};fetch("http://localhost:8087/java/MyNoteList",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then((t=>{this.$router.go(0)})).catch((t=>{console.log(t)}))}}))},goMynote(t){let e=t.target.parentElement;while(!e.classList.contains("card"))e=e.parentElement;let o=e.querySelector(".noteId").innerText;this.myNoteId=o,this.$router.push({name:"MyNoteInfo",params:{noteId:this.myNoteId}})},inviteForm(t){let e=t.target;while(!e.classList.contains("card"))e=e.parentElement;let o=e.querySelector(".noteId").innerText;this.noteId.push(o)},inviteUser(t){let e=this.noteId[0];console.log(e);let o=document.querySelector(".input_email").value,n={noteId:e,invitedMember:o};console.log("-----------fetch"),console.log(n),fetch("http://localhost:8087/java/inviteUser",{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((t=>{this.$router.go(0)})).catch((t=>{console.log(t)}))}},components:{Modal:I.Z}},x=o(89);const N=(0,x.Z)(C,[["render",y],["__scopeId","data-v-115954fb"]]);var L=N},7273:function(t,e,o){o.d(e,{Z:function(){return p}});var n=o(3396);const s=t=>((0,n.dD)("data-v-068e05fd"),t=t(),(0,n.Cn)(),t),i={class:"black-bg",id:"del_modal"},l={class:"white-bg"},a=s((()=>(0,n._)("div",{class:"modal_text"},"삭제 하시겠습니까?",-1))),d=s((()=>(0,n._)("hr",null,null,-1))),c={class:"modal_btn_container"};function r(t,e,o,s,r,h){return(0,n.wg)(),(0,n.iD)("div",i,[(0,n._)("div",l,[a,d,(0,n._)("div",c,[(0,n._)("button",{class:"modal_delbtn",onClick:e[0]||(e[0]=t=>h.delNote(t))},"ㅇㅋ"),(0,n._)("button",{class:"modal_cancel",onClick:e[1]||(e[1]=e=>t.$emit("hide_modal"))},"ㄴㄴ")])])])}o(7658);var h={props:{noteId:Array,title:{type:String,require:!1}},methods:{delNote(t){let e=this.noteId,o=[];for(let s=0;s<e.length;s++)o.push(e[s]);let n={noteIds:o};fetch("http://localhost:8087/java/MyNoteList",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((t=>{console.log("asdasdasdasd"),this.$emit("goList")})).catch((t=>{console.log(t)}))}}},u=o(89);const m=(0,u.Z)(h,[["render",r],["__scopeId","data-v-068e05fd"]]);var p=m}}]);
//# sourceMappingURL=259.c6a194d3.js.map