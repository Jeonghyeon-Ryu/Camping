"use strict";(self["webpackChunkcamping"]=self["webpackChunkcamping"]||[]).push([[52],{4052:function(e,t,n){n.r(t),n.d(t,{default:function(){return de}});var a=n(3396),r=n(9242),o=n(7139);const l=e=>((0,a.dD)("data-v-0782c810"),e=e(),(0,a.Cn)(),e),i={class:"recru-input-container"},u=l((()=>(0,a._)("div",{class:"recru-update-back recru-back-box"},null,-1))),c={key:0,class:"recru-input-box"},s=l((()=>(0,a._)("h3",null,"동행 모집글 수정",-1))),d={id:"recru-form",role:"form",method:"post",enctype:"multipart/form-data"},p={class:"recru-info-box"},m={class:"recru-info-car"},h=l((()=>(0,a._)("p",null,"차량 유무",-1))),g={class:"in-level"},v={class:"recru-info-box"},f=l((()=>(0,a._)("p",null,"희망 동행자",-1))),y={class:"in-level"},b={class:"recru-info-sex"},_=(0,a.uE)('<div class="recru-info-age" data-v-0782c810><label data-v-0782c810><input type="checkbox" name="wishAge" value="20대" data-v-0782c810>20대</label><label data-v-0782c810><input type="checkbox" name="wishAge" value="30대" data-v-0782c810>30대</label><label data-v-0782c810><input type="checkbox" name="wishAge" value="40대" data-v-0782c810>40대</label><label data-v-0782c810><input type="checkbox" name="wishAge" value="50대이상" data-v-0782c810>50대 이상</label></div>',1),x=l((()=>(0,a._)("hr",null,null,-1))),w={class:"recru-info-box"},I={class:"recru-mygear-header"},k=l((()=>(0,a._)("span",null,"보유한 장비",-1))),A={class:"recru-info-box"},C={class:"recru-needgear-header"},S=l((()=>(0,a._)("span",null,"필요한 장비",-1))),G=l((()=>(0,a._)("hr",null,null,-1))),R={class:"recru-info-box"},P={class:"recru-info-title"},D=l((()=>(0,a._)("span",null,"제목 ",-1))),E=["value"],U={class:"recru-info-content"},N=l((()=>(0,a._)("span",null,"내용",-1))),j=["value"],B=l((()=>(0,a._)("hr",null,null,-1))),q={class:"recru-info-box"},L={class:"recru-info-mynote"},M=l((()=>(0,a._)("span",null,"나의 노트",-1))),F={class:"recru-mynote-select"},V=l((()=>(0,a._)("hr",null,null,-1))),X={class:"recru-info-box"},O=l((()=>(0,a._)("span",null,"여행정보",-1))),T={class:"recru-box-name"},Y={class:"recru-info-startP"},Z={for:"startP_addr_kakao"},H=["src"],J={class:"recru-info-campP"},z={for:"campP_addr_kakao"},W=["src"],Q={class:"recru-info-number"},K=["value"],$={class:"recru-info-day"},ee={class:"recru-info-last"},te=l((()=>(0,a._)("span",null,"마감일",-1))),ne=["value"],ae={class:"recru-info-btn",style:{"text-align":"center"}};function re(e,t,n,l,re,oe){return(0,a.wg)(),(0,a.iD)("div",i,[u,e.recruInfo?((0,a.wg)(),(0,a.iD)("div",c,[s,(0,a._)("form",d,[(0,a._)("div",p,[(0,a._)("div",m,[h,(0,a._)("div",g,[(0,a._)("label",null,[(0,a.wy)((0,a._)("input",{type:"radio","onUpdate:modelValue":t[0]||(t[0]=t=>e.recruInfo.carYn=t),value:"1"},null,512),[[r.G2,e.recruInfo.carYn]]),(0,a.Uk)("있음")]),(0,a._)("label",null,[(0,a.wy)((0,a._)("input",{type:"radio","onUpdate:modelValue":t[1]||(t[1]=t=>e.recruInfo.carYn=t),value:"0"},null,512),[[r.G2,e.recruInfo.carYn]]),(0,a.Uk)("없음")])])])]),(0,a._)("div",v,[f,(0,a._)("div",y,[(0,a._)("div",b,[(0,a._)("label",null,[(0,a.wy)((0,a._)("input",{type:"radio","onUpdate:modelValue":t[2]||(t[2]=t=>e.recruInfo.wishSex=t),value:"1"},null,512),[[r.G2,e.recruInfo.wishSex]]),(0,a.Uk)("남")]),(0,a._)("label",null,[(0,a.wy)((0,a._)("input",{type:"radio","onUpdate:modelValue":t[3]||(t[3]=t=>e.recruInfo.wishSex=t),value:"2"},null,512),[[r.G2,e.recruInfo.wishSex]]),(0,a.Uk)("여")]),(0,a._)("label",null,[(0,a.wy)((0,a._)("input",{type:"radio","onUpdate:modelValue":t[4]||(t[4]=t=>e.recruInfo.wishSex=t),value:"0"},null,512),[[r.G2,e.recruInfo.wishSex]]),(0,a.Uk)("무관")])]),_])]),x,(0,a._)("div",w,[(0,a._)("div",I,[k,(0,a._)("button",{class:"btn badge bg-info badge-md",type:"button",onClick:t[5]||(t[5]=e=>oe.addGear("recru-mygear-body"))},"추가"),(0,a._)("button",{class:"btn badge bg-dark badge-md",type:"button",onClick:t[6]||(t[6]=(...e)=>oe.getGearList&&oe.getGearList(...e))},"내 장비 가져오기")]),(0,a._)("ul",{onClick:t[7]||(t[7]=(...e)=>oe.removeGear&&oe.removeGear(...e)),id:"recru-mygear-body"})]),(0,a._)("div",A,[(0,a._)("div",C,[S,(0,a._)("button",{class:"btn badge bg-info badge-md",type:"button",onClick:t[8]||(t[8]=e=>oe.addGear("recru-needgear-body"))},"추가")]),(0,a._)("ul",{onClick:t[9]||(t[9]=(...e)=>oe.removeGear&&oe.removeGear(...e)),id:"recru-needgear-body"})]),G,(0,a._)("div",R,[(0,a._)("div",P,[(0,a._)("label",null,[D,(0,a._)("input",{type:"text",name:"recru_input_title",value:e.recruInfo.recruTitle},null,8,E)])]),(0,a._)("div",U,[(0,a._)("label",null,[N,(0,a.Uk)(),(0,a._)("textarea",{name:"recru_input_content",value:e.recruInfo.recruContent,cols:"30",rows:"5"},null,8,j)])])]),B,(0,a._)("div",q,[(0,a._)("div",L,[(0,a._)("div",null,[M,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.myNote,(n=>((0,a.wg)(),(0,a.iD)("ul",{key:e.myNote.noteId},[(0,a._)("li",F,[(0,a.wy)((0,a._)("input",{type:"radio","onUpdate:modelValue":t[10]||(t[10]=t=>e.recruInfo.noteId=t)},null,512),[[r.G2,e.recruInfo.noteId]]),(0,a.Uk)((0,o.zw)(n.noteTitle),1)])])))),128))]),(0,a._)("div",null,[(0,a._)("button",{class:"write-note-btn",onClick:t[11]||(t[11]=(...e)=>oe.writeNewNote&&oe.writeNewNote(...e))},"새 노트 쓰기")])])]),V,(0,a._)("div",X,[O,(0,a._)("ul",T,[(0,a._)("li",Y,[(0,a._)("label",Z,"출발지 : "+(0,o.zw)(e.recruInfo.startingPoint),1)]),(0,a._)("li",null,[(0,a._)("input",{type:"text",name:"startP_addr_kakao",id:"startP_addr_kakao",readonly:"",class:"recru-addr-kakao",onClick:t[12]||(t[12]=(...e)=>oe.searchAddr&&oe.searchAddr(...e)),placeholder:"새로운 위치 검색"}),(0,a._)("img",{src:e.searchImg,style:{width:"20px",margin:"auto 0"}},null,8,H),(0,a._)("input",{type:"text",name:"startP_addr_detail",class:"recru-addr-detail",placeholder:"상세주소",onClick:t[13]||(t[13]=(...e)=>oe.chkSearchAddr&&oe.chkSearchAddr(...e))})]),(0,a._)("li",J,[(0,a._)("label",z,"도착지 : "+(0,o.zw)(e.recruInfo.campingPoint),1)]),(0,a._)("li",null,[(0,a._)("input",{type:"text",name:"campP_addr_kakao",id:"campP_addr_kakao",readonly:"",class:"recru-addr-kakao",onClick:t[14]||(t[14]=(...e)=>oe.searchAddr&&oe.searchAddr(...e)),placeholder:"새로운 위치 검색"}),(0,a._)("img",{src:e.searchImg,style:{width:"20px",margin:"auto 0"}},null,8,W),(0,a._)("input",{type:"text",name:"campP_addr_detail",class:"recru-addr-detail",placeholder:"상세주소",onClick:t[15]||(t[15]=(...e)=>oe.chkSearchAddr&&oe.chkSearchAddr(...e))})]),(0,a._)("li",Q,[(0,a._)("label",null,[(0,a.Uk)("모집인원 "),(0,a._)("input",{type:"number",name:"recru_input_recruNum",value:e.recruInfo.recruNum,min:"1",de:""},null,8,K)])]),(0,a._)("li",$,[(0,a._)("label",null,[(0,a.Uk)("여행 날짜 "),(0,a.wy)((0,a._)("input",{type:"date",class:"select-date",name:"recru_input_goDate","onUpdate:modelValue":t[16]||(t[16]=t=>e.recruInfo.goDate=t)},null,512),[[r.nr,e.recruInfo.goDate]])]),(0,a.Uk)(" ~ "),(0,a.wy)((0,a._)("input",{type:"date",class:"select-date",name:"recru_input_comeDate","onUpdate:modelValue":t[17]||(t[17]=t=>e.recruInfo.comeDate=t)},null,512),[[r.nr,e.recruInfo.comeDate]])])])]),(0,a._)("div",ee,[(0,a._)("label",null,[te,(0,a.Uk)(),(0,a._)("input",{type:"date",name:"recru_input_closingDate",value:e.recruInfo.closingDate,class:"select-date"},null,8,ne)])]),(0,a._)("div",ae,[(0,a._)("button",{class:"btn bg-gradient-success btn-md",onClick:t[18]||(t[18]=(0,r.iM)(((...e)=>oe.updateContent&&oe.updateContent(...e)),["prevent"]))},"수정")])])])):(0,a.kq)("",!0)])}n(7658);var oe=n(2492),le=n.n(oe),ie=n(1655),ue={data:function(){return{recruId:this.$route.params.recruId,searchImg:ie,wishAge:[],recruInfo:{memberId:sessionStorage.getItem("email"),wishSex:"",wishAge:"",carYn:"",myGear:"",needGear:"",recruTitle:"",recruContent:"",noteId:0,startingPoint:"",campingPoint:"",recruNum:1,goDate:"",comeDate:"",closingDate:"",nickname:"admin"},files:[],myNote:[{noteId:1,noteTitle:"노트제목입니다"},{noteId:2,noteTitle:"노트제목입니다"}]}},mounted(){this.loadData()},methods:{loadData:function(){let e=this.recruId;fetch("http://localhost:8087/java/recru/"+e).then((e=>e.json())).then((e=>{if(this.recruInfo=e,console.log(this.recruInfo),this.recruInfo.wishAge){var t=this.recruInfo.wishAge.split(" "),n=document.getElementsByName("wishAge");n.forEach((e=>{t.forEach((t=>{t==e.value&&(e.checked=!0)}))}))}var a=this.recruInfo.myGear.split(",");for(let l=0;l<a.length;l+=3){var r="recru-mygear";const e=document.getElementById("recru-mygear-body"),t=document.createElement("li");let n=`<input type='text' class='${r}-name' style='padding:5px;margin:3px;border:white;' value="${a[l]}"> <select class='${r}-type' style='padding:5px;margin:3px;border:white;' value="${a[l+1]}"><option selected disabled>장비 분류</option><option value='기타' value='텐트'>텐트</option><option value='타프'>타프</option><option value='가구'>가구</option><option value='침구'>침구</option><option value='조리도구'>조리도구</option><option value='조명'>조명</option><option value='수납'>수납</option><option value='공구'>공구</option><option value='냉난방'>냉난방</option><option value='기타'>기타</option></select><input type='number' class='`+r+"-num gear-num' style='width:50px;padding:5px;margin:3px;border:white;' value='1' placeholder='수량' min='1'>개<input type='file' class='btn "+r+"-img img' style='margin:0 5px;max-width:210px;' name='mygear' @change='addFile'><button type='button' class='btn' style='width:17px; height:17px;border-radius:50%;background:crimson;border:none;color:white;margin-left:2px' >x</button>";t.innerHTML=n,e.appendChild(t)}var o=this.recruInfo.needGear.split(",");for(let l=0;l<o.length;l+=3){r="recru-needgear";const e=document.getElementById("recru-needgear-body"),t=document.createElement("li");let n=`<input type='text' class='${r}-name' style='padding:5px;margin:3px;border:white;' value="${a[l]}"> <select class='${r}-type' style='padding:5px;margin:3px;border:white;' value="${a[l+1]}"><option selected disabled>장비 분류</option><option value='기타' value='텐트'>텐트</option><option value='타프'>타프</option><option value='가구'>가구</option><option value='침구'>침구</option><option value='조리도구'>조리도구</option><option value='조명'>조명</option><option value='수납'>수납</option><option value='공구'>공구</option><option value='냉난방'>냉난방</option><option value='기타'>기타</option></select><input type='number' class='`+r+"-num gear-num' style='width:50px;padding:5px;margin:3px;border:white;' value='1' placeholder='수량' min='1'>개<input type='file' class='btn "+r+"-img img' style='margin:0 5px;max-width:210px;' name='mygear' @change='addFile'><button type='button' class='btn' style='width:17px; height:17px;border-radius:50%;background:crimson;border:none;color:white;margin-left:2px' >x</button>";t.innerHTML=n,e.appendChild(t)}}))},loadImgs:function(){const e=this.recruCard.recruId,t=this;fetch("http://localhost:8087/java/recruImg/"+e).then((e=>e.json())).then((e=>{t.images=e})).catch((e=>console.log(e)))},updateContent:function(){const e=["recru_input_title","recru_input_content","recru_input_goDate","recru_input_comeDate","recru_input_recruNum","recru_input_closingDate"],t=["제목을","내용을","여행 출발날짜를","여행 도착날짜를","모집인원을","마감날짜를"],n=["recruTitle","recruContent","goDate","comeDate","recruNum","closingDate"];for(let u=0;u<e.length;u++){var a=document.getElementsByName(e[u])[0];if(""==a.value)return le().fire({text:`${t[u]} 입력해주세요. `,icon:"error",toast:!0,showConfirmButton:!1,timer:1e3,position:"center-center"}),void a.focus();this.recruInfo[n[u]]=a.value}const r=/[\{\}\[\]\/?.,;:|\)*~`!^\-_+<>@\#$%&\\\=\(\'\"]/g;let o=document.querySelectorAll(".recru-mygear-name"),l=document.querySelectorAll(".recru-mygear-name");for(let u=0;u<o.length;u++){if(r.test(o[u].value))return le().fire("장비 이름을 확인해주세요","< > @ . , ; : & * ^ / $ 등의 특수문자는 입력할 수 없습니다.","warning"),void o[u].focus();if(""===o[u].value)return le().fire("장비 이름을 입력해주세요","장비는 하나 이상 입력해야 합니다. 추가할 장비가 없을 경우 x 버튼을 눌러 지워주세요","warning"),void o[u].focus()}for(let u=0;u<l.length;u++){if(r.test(l[u].value))return le().fire("장비 이름을 확인해주세요","< > @ . , ; : & * ^ / $ 등의 특수문자는 입력할 수 없습니다.","warning"),void l[u].focus();if(""===l[u].value)return le().fire("장비 이름을 입력해주세요","장비는 하나 이상 입력해야 합니다. 추가할 장비가 없을 경우 x 버튼을 눌러 지워주세요","warning"),void l[u].focus()}document.querySelector("#startP_addr_kakao").value&&(this.recruInfo.startingPoint=document.querySelector("#startP_addr_kakao").value+document.getElementsByName("startP_addr_detail")[0].value),document.querySelector("#campP_addr_kakao").value&&(this.recruInfo.campingPoint=document.querySelector("#campP_addr_kakao").value+document.getElementsByName("campP_addr_detail")[0].value),this.setGearList("mygear"),this.setGearList("needgear"),this.setWishAge(),this.addFile();let i=this.recruInfo;console.log(i),fetch("http://localhost:8087/java/recru/updateAll",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then((e=>e.json())).then((e=>{this.files.length,le().fire("수정 완료","캠핑 모집글이 수정되었습니다.","success").then((e=>{e.isConfirmed&&this.$router.go(-1)}))})).catch((e=>console.log(e)))},addFile:function(){const e=document.querySelectorAll(".img");this.files.length=1,e.forEach((e=>{""!=e.value&&this.files.push(e.files[0])}))},fileUpdate:async function(){const e=new FormData;this.files.forEach((t=>{e.append("files",t)})),fetch("http://localhost:8087/java/recruImg",{method:"PUT",headers:{},body:e}).then((e=>e.json())).then((e=>{console.log(e)})).catch((e=>console.log(e)))},addGear:function(e){const t=document.getElementById(e),n=document.createElement("li");e=e.substring(0,e.indexOf("-b"));let a="<input type='text' class='"+e+"-name' style='padding:5px;margin:3px;border:white;'> <select class='"+e+"-type' style='padding:5px;margin:3px;border:white;'><option selected disabled>장비 분류</option><option value='기타' value='텐트'>텐트</option><option value='타프'>타프</option><option value='가구'>가구</option><option value='침구'>침구</option><option value='조리도구'>조리도구</option><option value='조명'>조명</option><option value='수납'>수납</option><option value='공구'>공구</option><option value='냉난방'>냉난방</option><option value='기타'>기타</option></select><input type='number' class='"+e+"-num gear-num' style='width:50px;padding:5px;margin:3px;border:white;' value='1' placeholder='수량' min='1'>개<input type='file' class='btn "+e+"-img img' style='margin:0 5px;max-width:210px;' name='mygear' @change='addFile'><button type='button' class='btn' style='width:17px; height:17px;border-radius:50%;background:crimson;border:none;color:white;margin-left:2px' >x</button>";n.innerHTML=a,t.appendChild(n)},removeGear:function(e){"BUTTON"==e.target.tagName&&e.target.parentNode.remove()},setGearList:function(e){let t=document.querySelectorAll(".recru-"+e+"-name"),n=document.querySelectorAll(".recru-"+e+"-type"),a=document.querySelectorAll(".recru-"+e+"-num"),r=t[0].value+","+n[0].value+","+a[0].value;for(let o=1;o<t.length;o++)r=r+","+t[o].value+","+n[o].value+","+a[o].value;"mygear"===e?this.recruInfo.myGear=r:this.recruInfo.needGear=r},setWishAge:function(){const e='input[name="wishAge"]:checked',t=document.querySelectorAll(e);let n="";t.forEach((e=>{n+=e.value+" "})),this.recruInfo.wishAge=n},writeNewNote:function(){alert("노트쓰기 페이지로 연결하기")},getGearList:function(){alert("장비가져오기")},searchAddr:function(e){new daum.Postcode({oncomplete:function(t){e.target.value=t.address,e.target.nextSibling.nextSibling.focus()}}).open()},chkSearchAddr:function(e){var t=e.target.previousSibling.previousSibling;t.value||(this.toastSwal.fire({text:"도로명 주소를 먼저 입력하세요",icon:"warning"}),t.focus())},toastSwal:le().mixin({toast:!0,showConfirmButton:!1,timer:1e3,position:"center-center"})}},ce=n(89);const se=(0,ce.Z)(ue,[["render",re],["__scopeId","data-v-0782c810"]]);var de=se},1655:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAABLlJREFUaEPtWd9rHFUUPvdmstlNUnfFYAuuiwRFiRiKk5k7s6kyij7kRSkSRav1QUQIffL/8MmfDyJqQcRA0acgKqyW5M6ddBQiikilBmoVS5ZUW6fb7M6Vm+7WdHZ+z65dyt7HzTnf+b577j33zAmCm2Shm0QHDIUMWiaHGRlmpE870MujhRVFuR1g9IDginHrd8bYeQBw+8T9OthMQmZnZycKhYm3AOAIAIwEEG4C8OPN5s4x27b/6ZeoVEIMw5Acp/ENAOgJiZ2sVMqPLC8vtxL6RZonFkLIvAbg0kjkYAMO4CqMMTsDRpdrIiGqqj+LEHzUCwII8adM0zzRCyyBEVuIqlZ1hPharwLvBkdcNk3z215gxhIiy/KoJOUaIcIdhPhSPp//uFarXRbEdF0vtFrwHELwBgDkA8jySqU82os7E0sIIdWTAPyQHxmE+Mumab4btquEVJcA+JsBNl8yRh/PmpVIIbIsFyUpt+0XCGOYpZR+H4eEqs7PIeSu+9k6zqXJjY2NS3FwgmwihRCifwAAR70AcTLh9VFV/RhC8Lr3d87R25a1ttRvIeJu5DxBLjBGS2kCE6L/DQCTHl+HMTqeBq/jE5qRmZmZ3L59RSHEs9BRxtaOpwmsqvorCME7Xt9CYWy0Vqs102BGll9FOTSNcesXL3iWM00IuQUAX/BiYgxlSulvfRGiqvMPIeSKVuS6xRjFAMBTBsWE6F0tCsbwIKX0u5SY4Q+iolQfxph/3WMhiBC9qyPuqxBCyD0A+GefYzBOKXXS7J5hGJOO0xAX3rPcOxljZ9NgRt4RwzDyjtPoIsw5PG1ZdDlNUFXVXkQIvf+/XnYRjBB9BwAkT+AtxuhUGiGE6OJxLXp8LzNGC2nwOj6RD6Km6Sc4h8NdBRjxZ0zT/CRJcEKqLwDwD3183mOMvpQEq4tPlDMhZD8A/sPPjvPWtGVZZ6IwxN/n5ubvHRlxf/KzbTavlGzb7irJcXBjZ6R9vDYA4AF/MXDYsuinYUFVVV9ECIKyt8oY9W1Iey6k/W1+MQS4jjEcKZfLX3Ra8sXFxZHNzbMLCIHoAMLamU3G6F1JSPvZRt6RjpOmaU9wjj7LGjDA/xxj9I4s2LGFiCCapr3KOXotS8AgX87hvGXR/Wk7hkRCrt6X6pMAPPROZBC6zRi9Lc0sLLEQQVJ8xrouiAJwd0LSomrdF+FzsVIpl5J+/qYS0iHSLs1iqvJoCDnOOXwO0HresqwtRVEOYCydixh8OM3mlaJt2+IxjrUyCdkb4Wo740xjjCvt338tlUpnVlZWur5nZFmekqTcn2FiOIdGvV4qnj7d7Z+pasXalgRGBw8apbGxxpYYE4e47WAMxTgNas8ykkDDNdN2Jyx6r6C5sbBtSRK+dXV11adj/i/qDRUiaMiyPC5JOdGeeBvTayzFMbMsGjQb27W74UIEiYWFhbF6ffsvnyHHnkS79zPGfgzK/EAIaWdGTDOFGN+dR4hrpmmygRciCLb/XSHuzISXcKVSlsLeloHJyB7iYjghSrN44XeX68Jj6+v0q7CCMohCdvmKh5Pz0alTp9Z+iNN/DayQpOV8KCTpjvXbfpiRfu9wUvxhRpLuWL/t/wXX1IRCY8li0QAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=52.e36eeca8.js.map