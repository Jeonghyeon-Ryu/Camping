"use strict";(self["webpackChunkcamping"]=self["webpackChunkcamping"]||[]).push([[560],{3:function(e,t,n){n.r(t),n.d(t,{default:function(){return U}});var o=n(3396),r=n.p+"img/login_background.5e3966e8.jpg";const i=e=>((0,o.dD)("data-v-de2e0a1a"),e=e(),(0,o.Cn)(),e),s={class:"login_container"},a={class:"cont_centrar"},l={class:"cont_login"},c={class:"cont_info_log_sign_up"},u={class:"col_md_login"},m={class:"cont_ba_opcitiy"},d=i((()=>(0,o._)("h2",null,"Login",-1))),p=i((()=>(0,o._)("p",null,"드루와드루와",-1))),_={class:"col_md_sign_up"},g={class:"cont_ba_opcitiy"},h=i((()=>(0,o._)("h2",null,"Sign Up",-1))),f=i((()=>(0,o._)("p",null,"캠핑 가족이 되어주세요 !",-1))),y=i((()=>(0,o._)("div",{class:"cont_back_info"},[(0,o._)("div",{class:"cont_img_back_grey"},[(0,o._)("img",{src:r,alt:""})])],-1))),v={class:"cont_forms"},b=i((()=>(0,o._)("div",{class:"cont_img_back_"},[(0,o._)("img",{src:r,alt:""})],-1))),S={class:"cont_form_login"},k=i((()=>(0,o._)("i",{class:"material-icons"},"",-1))),w=[k],C=i((()=>(0,o._)("h2",null,"LOGIN",-1))),T=i((()=>(0,o._)("input",{type:"text",placeholder:"Email"},null,-1))),q=i((()=>(0,o._)("input",{type:"password",placeholder:"Password"},null,-1))),L=i((()=>(0,o._)("button",{class:"btn_login"},"KAKAO",-1))),E=i((()=>(0,o._)("button",{class:"btn_login"},"NAVER",-1))),P={class:"cont_form_sign_up"},N=i((()=>(0,o._)("i",{class:"material-icons"},"",-1))),B=[N],O=i((()=>(0,o._)("h2",null,"SIGN UP",-1))),I=i((()=>(0,o._)("input",{type:"text",name:"name",placeholder:"이름",autocomplete:"off"},null,-1)));function x(e,t,n,r,i,k){return(0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("div",a,[(0,o._)("div",l,[(0,o._)("div",c,[(0,o._)("div",u,[(0,o._)("div",m,[d,p,(0,o._)("button",{class:"btn_login",onClick:t[0]||(t[0]=e=>k.click_login())},"LOGIN")])]),(0,o._)("div",_,[(0,o._)("div",g,[h,f,(0,o._)("button",{class:"btn_sign_up",onClick:t[1]||(t[1]=e=>k.click_sign_up())},"SIGN UP")])])]),y,(0,o._)("div",v,[b,(0,o._)("div",S,[(0,o._)("a",{href:"#",onRenderTracked:t[2]||(t[2]=e=>k.showLoginSignup())},w,32),C,T,q,(0,o._)("button",{class:"btn_login",onClick:t[3]||(t[3]=e=>k.clickLogin(e))},"LOGIN"),L,E,(0,o._)("button",{class:"btn_login",onClick:t[4]||(t[4]=e=>k.searchIDPW(e))},"FORGET ID/PW ?")]),(0,o._)("div",P,[(0,o._)("a",{href:"#",onClick:t[5]||(t[5]=e=>k.showLoginSignup())},B),O,(0,o._)("input",{type:"text",onChange:t[6]||(t[6]=e=>k.isEmail(e)),onBlur:t[7]||(t[7]=e=>k.isEmail(e)),name:"email",placeholder:"이메일",autocomplete:"off"},null,32),I,(0,o._)("input",{type:"text",onChange:t[8]||(t[8]=e=>k.isNickname(e)),name:"nickname",placeholder:"닉네임",autocomplete:"off"},null,32),(0,o._)("input",{type:"password",onChange:t[9]||(t[9]=e=>k.isPassword(e)),name:"password",placeholder:"비밀번호(특수문자,숫자 포함 8~16자리)"},null,32),(0,o._)("input",{type:"password",onChange:t[10]||(t[10]=e=>k.isPasswordConfirm(e)),name:"password_confirm",placeholder:"비밀번호 확인"},null,32),(0,o._)("input",{type:"text",onChange:t[11]||(t[11]=e=>k.isIdentify(e)),name:"identify",placeholder:"주민등록번호(900101-1)",maxlength:"8",autocomplete:"off"},null,32),(0,o._)("input",{type:"text",onChange:t[12]||(t[12]=e=>k.isPhoneNumber(e)),name:"phoneNumber",placeholder:"01012341234",maxlength:"11",autocomplete:"off"},null,32),(0,o._)("button",{class:"btn_sign_up",onClick:t[13]||(t[13]=e=>k.clickSignup(e))},"SIGN UP")])])])])])}n(7658);var $=n(2492),j=n.n($);const{IMP:A}=window;var z={methods:{click_login:()=>{document.querySelector(".cont_forms").className="cont_forms cont_forms_active_login",document.querySelector(".cont_form_login").style.display="block",document.querySelector(".cont_form_sign_up").style.opacity="0",setTimeout((function(){document.querySelector(".cont_form_login").style.opacity="1"}),400),setTimeout((function(){document.querySelector(".cont_form_sign_up").style.display="none"}),200)},click_sign_up:()=>{document.querySelector(".cont_forms").className="cont_forms cont_forms_active_sign_up",document.querySelector(".cont_form_sign_up").style.display="block",document.querySelector(".cont_form_login").style.opacity="0",setTimeout((function(){document.querySelector(".cont_form_sign_up").style.opacity="1"}),100),setTimeout((function(){document.querySelector(".cont_form_login").style.display="none"}),400)},clickLogin:function(e){let t=e.target.parentElement,n={email:t.querySelector('input[type="text"]').value,password:t.querySelector('input[type="password"]').value};console.log(n),fetch("http://localhost:8087/java/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((e=>e.json())).then((e=>{0==e.status?j().fire({icon:"error",title:"탈퇴한 회원입니다 !",toast:!0,showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",j().stopTimer),e.addEventListener("mouseleave",j().resumeTimer)}}):1==e.status?j().fire({icon:"error",title:"접속이 제한된 회원입니다 !",toast:!0,showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",j().stopTimer),e.addEventListener("mouseleave",j().resumeTimer)}}):(sessionStorage.setItem("nickname",e.nickname),sessionStorage.setItem("email",e.email),sessionStorage.setItem("auth",e.auth),this.$store.commit("getUserInfo"),j().fire({icon:"success",title:"로그인 성공!",toast:!0,showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",j().stopTimer),e.addEventListener("mouseleave",j().resumeTimer),this.$emit("loginSuccess"),this.$router.replace("/")}}))})).catch((e=>{j().fire({icon:"error",title:"아이디 또는 비밀번호가 일치하지 않습니다.",toast:!0,showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",j().stopTimer),e.addEventListener("mouseleave",j().resumeTimer),t.querySelector('input[type="password"]').value="",t.querySelector('input[type="text"]').focus()}})}))},clickSignup:function(e){let t=e.target.parentElement,n=t.querySelector('input[name="identify"]').value,o="",r="";o=n.substr(-1,1)%2==0?"여":"남",1==n.substr(-1,1)||2==n.substr(-1,1)?r="19":3!=n.substr(-1,1)&&4!=n.substr(-1,1)||(r="20"),r=r+n.substr(0,2)+"-"+n.substr(2,2)+"-"+n.substr(4,2);let i,s={email:t.querySelector('input[name="email"]').value,name:t.querySelector('input[name="name"]').value,nickname:t.querySelector('input[name="nickname"]').value,password:t.querySelector('input[name="password"]').value,birth:r,sex:o,phoneNumber:t.querySelector('input[name="phoneNumber"]').value},a=this;A.init("imp77170587"),A.certification({merchant_uid:`${(new Date).getTime()}`},(function(e){e.success?(console.log("성공",e.imp_uid),i=e.imp_uid,console.log(i),fetch("http://localhost:8087/java/auth?impUid="+i).then((e=>e.json())).then((e=>{e.name!=t.querySelector('input[name="name"]').value&&(document.querySelector('input[name="name"]').value=e.name),e.phoneNumber!=t.querySelector('input[name="phoneNumber"]').value&&(document.querySelector('input[name="name"]').value=e.phoneNumber)})).catch((e=>console.log("본인인증 오류",e))).finally((()=>{fetch("http://localhost:8087/java/member",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((e=>e.text())).then((e=>{console.log(this),"true"==e?j().fire({icon:"success",title:"회원가입 성공!",toast:!0,showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",j().stopTimer),e.addEventListener("mouseleave",j().resumeTimer),a.$router.push({path:"/",name:"Home"})}}):j().fire({icon:"error",title:"알수없는 오류로 회원가입에 실패하였습니다.",toast:!0,showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",j().stopTimer),e.addEventListener("mouseleave",j().resumeTimer)}})})).catch((e=>console.log("회원가입 오류",e)))}))):console.log("실패",e)}))},showLoginSignup:()=>{document.querySelector(".cont_forms").className="cont_forms",document.querySelector(".cont_form_sign_up").style.opacity="0",document.querySelector(".cont_form_login").style.opacity="0",setTimeout((function(){document.querySelector(".cont_form_sign_up").style.display="none",document.querySelector(".cont_form_login").style.display="none"}),500)},regCheck:function(e,t){e.test(t.value)?t.style.background="rgba(0,255,0,0.1)":(t.style.background="rgba(255,0,0,0.1)",j().fire({icon:"error",title:"형식에 맞게 입력해주세요.",toast:!0,showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",j().stopTimer),e.addEventListener("mouseleave",j().resumeTimer)}}).then((e=>{t.value="",t.focus()})))},isPhoneNumber:function(e){let t=e.target,n=/^01(?:0|1|[6-9])(?:\d{3}|\d{4})\d{4}$/;this.regCheck(n,t)},isEmail:function(e){let t=e.target,n=/^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/i,o="http://localhost:8087/java/email?email="+e.target.value;fetch(o).then((e=>e.text())).then((e=>{"true"==e?this.regCheck(n,t):(t.style.background="rgba(255,0,0,0.1)",j().fire({icon:"error",title:"이미 존재하는 이메일입니다.",toast:!0,showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",j().stopTimer),e.addEventListener("mouseleave",j().resumeTimer)}}).then((e=>{t.value="",t.focus()})))})).catch((e=>console.log(e)))},isNickname:function(e){let t=e.target,n="http://localhost:8087/java/nickname?nickname="+e.target.value;fetch(n).then((e=>e.text())).then((e=>{"true"==e?t.style.background="rgba(0,255,0,0.1)":(t.style.background="rgba(255,0,0,0.2)",j().fire({icon:"error",title:"이미 존재하는 닉네임입니다.",toast:!0,showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",j().stopTimer),e.addEventListener("mouseleave",j().resumeTimer)}}).then((e=>{t.value="",t.focus()})))})).catch((e=>console.log(e)))},isPassword:function(e){let t=e.target,n=/^(?=.*[a-zA-z])(?=.*[0-9])(?=.*[$`~!@$!%*^?&\\(\\)\-_=+]).{8,16}$/;this.regCheck(n,t)},isPasswordConfirm:function(e){let t=e.target.previousSibling.value,n=e.target.value;t==n?e.target.style.background="rgba(0,255,0,0.2)":(e.target.style.background="rgba(255,0,0,0.2)",j().fire({icon:"error",title:"비밀번호가 일치하지 않습니다.",toast:!0,showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",j().stopTimer),e.addEventListener("mouseleave",j().resumeTimer)}}).then((t=>{e.target.value="",e.target.focus()})))},isIdentify:function(e){let t=e.target,n=/^\d{2}([0]\d|[1][0-2])([0][1-9]|[1-2]\d|[3][0-1])[-]*[1-4]$/;this.regCheck(n,t)},searchIDPW:function(e){}}},G=n(89);const D=(0,G.Z)(z,[["render",x],["__scopeId","data-v-de2e0a1a"]]);var U=D}}]);
//# sourceMappingURL=560.da528c18.js.map