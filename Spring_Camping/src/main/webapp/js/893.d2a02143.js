"use strict";(self["webpackChunkcamping"]=self["webpackChunkcamping"]||[]).push([[893],{8405:function(e,t,s){s.d(t,{Z:function(){return x}});var i=s(3396),a=s(9242),d=s(7139);const n={class:"like"},r=["src"],o=["src"],l={class:"card-pic"},u=["src"],c={class:"card-info"},h={class:"card-top"},m={class:"card-info-l"},p=["value"],g={class:"font-gray"},v={class:"card-info-r"},f={key:0,class:"dealGreen"},C={key:1,class:"dealRed"},k={key:2,class:"dealGray"},_={key:3,class:"statusBlack"},w={class:"card-bottom"},y={class:"card-place"},D={class:"card-write"},I={class:"font-gray"};function S(e,t,s,S,b,L){return(0,i.wg)(),(0,i.iD)("div",{onClick:t[2]||(t[2]=(...e)=>L.cardDetail&&L.cardDetail(...e)),class:"card"},[(0,i._)("div",n,[b.liked?((0,i.wg)(),(0,i.iD)("img",{key:0,onClick:t[0]||(t[0]=(0,a.iM)((e=>L.hearted()),["stop"])),src:b.heartImg},null,8,r)):(0,i.kq)("",!0),b.liked?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("img",{key:1,onClick:t[1]||(t[1]=(0,a.iM)((e=>L.hearted()),["stop"])),src:b.heartImg2},null,8,o))]),(0,i._)("div",l,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(b.images,(e=>((0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("img",{src:"http://localhost:8087/java/used/showImage/"+e.usedPath+"/"+e.usedStoredName},null,8,u)])))),256))]),(0,i._)("div",c,[(0,i._)("div",h,[(0,i._)("ul",m,[(0,i._)("li",null,[(0,i._)("h3",null,(0,d.zw)(s.usedCard.usedName),1),(0,i._)("input",{class:"used-id",type:"hidden",value:s.usedCard.usedId},null,8,p)]),(0,i._)("li",null,[(0,i._)("h4",null,[(0,i._)("span",g,"￦ "+(0,d.zw)(s.usedCard.usedPrice),1)])])]),(0,i._)("ul",v,[(0,i._)("li",null,[0==s.usedCard.dealStatus&&0===s.usedCard.usedStatus?((0,i.wg)(),(0,i.iD)("div",f,"거래가능")):(0,i.kq)("",!0),1==s.usedCard.dealStatus&&0===s.usedCard.usedStatus?((0,i.wg)(),(0,i.iD)("div",C,"거래중")):(0,i.kq)("",!0),2==s.usedCard.dealStatus&&0===s.usedCard.usedStatus?((0,i.wg)(),(0,i.iD)("div",k,"거래완료")):(0,i.kq)("",!0),0!=s.usedCard.usedStatus?((0,i.wg)(),(0,i.iD)("div",_,"접근제한")):(0,i.kq)("",!0)])])]),(0,i._)("div",w,[(0,i._)("div",y,(0,d.zw)(s.usedCard.usedPlace),1),(0,i._)("div",D,[(0,i._)("span",I,(0,d.zw)(s.usedCard.usedWrite),1)])])])])}s(7658);var b=s(865),L=s.p+"img/heart.83ab491c.png",T=s(5934),j=s(2492),E=s.n(j),$={name:"UsedCard",props:["usedCard"],data(){return{cardImg:b,heartImg:L,heartImg2:T,liked:!0,images:[]}},mounted(){},methods:{cardDetail:function(e){this.$router.push({name:"usedDetail"})},hearted:function(){if(event.preventDefault(),null===this.$store.state.email)E().fire({icon:"warning",title:"로그인 후에 찜해주세요",toast:!0,showConfirmButton:!1,timer:1500,didOpen:e=>{e.addEventListener("mouseenter",E().stopTimer),e.addEventListener("mouseleave",E().resumeTimer),this.$router.push({name:"LoginSignup"})}});else if(this.$store.state.email===this.usedCard.email)E().fire({icon:"warning",title:"내가 쓴 글은 찜할 수 없어요",toast:!0,showConfirmButton:!1,timer:1e3,didOpen:e=>{e.addEventListener("mouseenter",E().stopTimer),e.addEventListener("mouseleave",E().resumeTimer)}});else{this.liked=!this.liked;let e={boardId:this.usedCard.usedId,boardDivision:2,email:this.$store.state.email};console.log(e),console.log(e.boardId),!0===this.liked?fetch("http://localhost:8087/java/save",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.text())).then((e=>{e>="1"&&(console.log("삭제되었습니다."),E().fire({icon:"error",title:"찜 목록에서 삭제되었어요",toast:!0,showConfirmButton:!1,timer:1e3,didOpen:e=>{e.addEventListener("mouseenter",E().stopTimer),e.addEventListener("mouseleave",E().resumeTimer)}}))})).catch((e=>console.log(e))):!1===this.liked?fetch("http://localhost:8087/java/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.text())).then((e=>{e>="1"&&(console.log("입력되었습니다."),E().fire({icon:"success",title:"찜 목록에 저장되었어요",toast:!0,showConfirmButton:!1,timer:1e3,didOpen:e=>{e.addEventListener("mouseenter",E().stopTimer),e.addEventListener("mouseleave",E().resumeTimer)}}),this.updateLike())})).catch((e=>console.log(e))):console.log("좋아요실패??")}},updateLike:function(){let e=this.usedCard.usedId;fetch("http://localhost:8087/java/used/updateLike",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}},created(){fetch("http://localhost:8087/java/used/usedImage/"+this.usedCard.usedId).then((e=>e.json())).then((e=>{this.images=e})).catch((e=>console.log(e))),null!=this.$store.state.email&&fetch("http://localhost:8087/java/save?boardId="+this.usedCard.usedId+"&email="+this.$store.state.email+"&boardDivision=2").then((e=>e.text())).then((e=>{"true"==e&&(this.liked=!1)})).catch((e=>console.log(e)))}},O=s(89);const P=(0,O.Z)($,[["render",S],["__scopeId","data-v-744b6c88"]]);var x=P},1536:function(e,t,s){s.r(t),s.d(t,{default:function(){return _}});var i=s(3396),a=s(7139);const d=e=>((0,i.dD)("data-v-b426893c"),e=e(),(0,i.Cn)(),e),n={id:"container"},r={id:"container2"},o={onsubmit:"return false"},l=d((()=>(0,i._)("div",{class:"used-headd"},[(0,i._)("div",{class:"used-title"},[(0,i._)("h2",null,"중고장터 내가 쓴 글")])],-1))),u={class:"used-body"},c={class:"cards"},h={class:"used-foote"};function m(e,t,s,d,m,p){const g=(0,i.up)("UsedCard"),v=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("div",r,[(0,i._)("form",o,[l,(0,i._)("div",u,[(0,i._)("h2",null,(0,a.zw)(e.recruMsg),1),(0,i._)("div",c,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(m.usedList,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.id},[(0,i.Wm)(v,{tag:"div",to:{name:"usedDetail",params:{usedId:e.usedId}}},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{usedCard:e},null,8,["usedCard"])])),_:2},1032,["to"])])))),128))])])]),(0,i._)("div",h,[(0,i._)("button",{onClick:t[0]||(t[0]=(...e)=>p.usedInsert&&p.usedInsert(...e))},"+")])])])}s(7658);var p=s(8405),g=s(2492),v=s.n(g),f={components:{UsedCard:p.Z},data(){return{email:this.$store.state.email,usedList:[],myGearType:"",regionSelect:"",regionSelect2:"",minPrice:"",maxPrice:""}},methods:{cardDetail:function(){this.$router.push({name:"usedDetail"})},usedInsert:function(){null!=this.$store.state.email?this.$router.push({name:"usedInsert"}):v().fire({icon:"warning",title:"로그인을 해주세요",toast:!0,showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",v().stopTimer),e.addEventListener("mouseleave",v().resumeTimer),this.$router.push({name:"LoginSignup"})}})},usedDetail:function(e){this.$router.push({name:"usedDetail",params:{usedId:e}})},gearSelected:function(){this.myGearType=""},regionSelected:function(){this.regionSelect=""},region2Selected:function(){this.regionSelect2=""},priceSelected:function(){this.minPrice="",this.maxPrice=""}},created(){const e=this.email;console.log(e),fetch("http://localhost:8087/java/used/myUsed/"+e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{console.log(e),this.usedList=e,this.usedList.length<1?this.recruMsg="내가 쓴 중고거래 게시물이 없습니다":this.recruMsg=""})).catch((e=>console.log(e)))}},C=s(89);const k=(0,C.Z)(f,[["render",m],["__scopeId","data-v-b426893c"]]);var _=k},865:function(e,t,s){e.exports=s.p+"img/bg9.c098448c.jpg"},5934:function(e,t,s){e.exports=s.p+"img/heart2.01c22f4d.png"}}]);
//# sourceMappingURL=893.d2a02143.js.map