"use strict";(self["webpackChunkcamping"]=self["webpackChunkcamping"]||[]).push([[953],{449:function(t,e,o){o.r(e),o.d(e,{default:function(){return d}});var a=o(3396);const n=t=>((0,a.dD)("data-v-077b8ae6"),t=t(),(0,a.Cn)(),t),r={class:"manage-container"},i=n((()=>(0,a._)("div",{class:"manage-title"},[(0,a._)("h2",null,"신고 관리 페이지")],-1))),c={class:"manage-table"};function l(t,e,o,n,l,s){const u=(0,a.up)("ReportTable");return(0,a.wg)(),(0,a.iD)("div",r,[i,(0,a._)("div",c,[(0,a.Wm)(u,{reportData:t.reportData,"onUpdate:reportData":e[0]||(e[0]=e=>t.reportData=e),perPage:t.perPage},null,8,["reportData","perPage"])])])}var s=o(7463),u={data:function(){return{reportData:[],perPage:20}},created:function(){fetch("http://localhost:8087/java/report").then((t=>t.json())).then((t=>{console.log(t),this.reportData=t})).catch((t=>console.log(t)))},components:{ReportTable:s.Z}},p=o(89);const f=(0,p.Z)(u,[["render",l],["__scopeId","data-v-077b8ae6"]]);var d=f},7463:function(t,e,o){o.d(e,{Z:function(){return S}});var a=o(3396),n=o(7139);const r=t=>((0,a.dD)("data-v-4ef45820"),t=t(),(0,a.Cn)(),t),i={class:"table"},c={class:"table-header row"},l={class:"table-column"},s={class:"excel-export-container"},u={class:"table-body row"},p=r((()=>(0,a._)("input",{type:"checkbox",name:"checkedUser",value:""},null,-1))),f={class:"table-column"},d={key:0},h={key:1};function g(t,e,o,r,g,m){const y=(0,a.up)("Sort"),D=(0,a.up)("Filtering"),P=(0,a.up)("ExcelExport"),b=(0,a.up)("TableButton"),v=(0,a.up)("Pagination"),k=(0,a.up)("ModifyModal");return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("ul",null,[(0,a._)("li",c,[(0,a._)("input",{onClick:e[0]||(e[0]=t=>m.checkAll(t)),type:"checkbox",name:"checkedUser",value:""}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.columns,(t=>((0,a.wg)(),(0,a.iD)("div",l,[(0,a.Uk)((0,n.zw)(t.name)+" ",1),t.sortable?((0,a.wg)(),(0,a.j4)(y,{key:0,column:t.prop,onSort:m.getSortData},null,8,["column","onSort"])):(0,a.kq)("",!0),(0,a.Wm)(D,{datas:o.reportData,column:t.prop,type:t.type},null,8,["datas","column","type"])])))),256)),(0,a._)("div",s,[(0,a.Wm)(P,{inputData:o.reportData},null,8,["inputData"])])]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.rows,(e=>((0,a.wg)(),(0,a.iD)("li",u,[p,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.columns,(o=>((0,a.wg)(),(0,a.iD)("div",f,[o.type!=Date?((0,a.wg)(),(0,a.iD)("div",d,(0,n.zw)(e[o.prop]),1)):(0,a.kq)("",!0),o.type==Date?((0,a.wg)(),(0,a.iD)("div",h,(0,n.zw)(t.$filters.formatDate(e[o.prop])),1)):(0,a.kq)("",!0)])))),256)),t.modifybtn?((0,a.wg)(),(0,a.j4)(b,{key:0,type:"modify",onModify:t=>m.modify(e)},null,8,["onModify"])):(0,a.kq)("",!0),t.removebtn?((0,a.wg)(),(0,a.j4)(b,{key:1,type:"remove",onRemove:t=>m.remove(e)},null,8,["onRemove"])):(0,a.kq)("",!0),(0,a.Wm)(b,{type:"limit",onLimit:t=>m.limit(e)},null,8,["onLimit"]),(0,a.Wm)(b,{type:"active",onActive:t=>m.active(e)},null,8,["onActive"])])))),256))]),(0,a.Wm)(v,{startPage:m.startPage,endPage:m.endPage,totalPage:t.totalPage,onChangePage:m.changePage},null,8,["startPage","endPage","totalPage","onChangePage"]),t.isModify?((0,a.wg)(),(0,a.j4)(k,{key:0,columns:t.columns,modifyData:t.modifyData,onCancelModify:m.cancelModify,onConfirmModify:t.confirmModify},null,8,["columns","modifyData","onCancelModify","onConfirmModify"])):(0,a.kq)("",!0)])}o(7658);var m=o(3511),y=o(1157),D=o(2361),P=o(9499),b=o(2492),v=o.n(b),k=o(6582),w=o(6606),x={props:["reportData","perPage"],data:function(){return{columns:[{name:"캠핑장 번호",prop:"boardId",sortable:!0,type:Number},{name:"구분",prop:"boardDivision",sortable:!0,type:Number},{name:"대분류",prop:"reportDivision",type:String},{name:"신고자",prop:"email",type:String},{name:"신고일자",prop:"regdate",type:Date}],rows:[],totalPage:0,currentPage:1,modifybtn:!0,removebtn:!0,isModify:!1,modifyData:{}}},created:function(){let t=Object.keys(this.reportData).length;this.totalPage=t<=20?1:Math.ceil(t/this.perPage);for(let e=0;e<this.perPage;e++){if(Object.keys(this.reportData).length<=e)break;console.log(e),this.rows.push(this.reportData[e])}},mounted:function(){this.changeColumnSize()},computed:{endPage:function(){return this.totalPage<this.startPage+9?this.totalPage%10:10},startPage:function(){return this.currentPage<=10?1:this.currentPage-this.currentPage%10+1}},methods:{getSortData:function(t,e){console.log(t,e),this.sortJSON(this.rows,t,e)},sortJSON:function(t,e,o){return void 0==o&&(o="asc"),t.sort((function(t,a){var n=t[e],r=a[e];return"desc"==o?n>r?-1:n<r?1:0:"asc"==o?n<r?-1:n>r?1:0:void 0}))},checkAll:function(t){if(t.target.checked)for(let e of document.querySelectorAll('input[type="checkbox"]'))e.checked=!0;else for(let e of document.querySelectorAll('input[type="checkbox"]'))e.checked=!1},changePage:function(t){this.currentPage=t},changeColumnSize:function(){let t="40px";for(let e of this.columns)Object.keys(e).includes("size")?t=t+" "+e.size:t+=" minmax(200px,1fr)";this.modifybtn&&(t+=" 25px"),this.removebtn&&(t+=" 25px"),t+=" 25px 25px",document.querySelector(".table").style.setProperty("--gridTemplate",t)},modify:function(t){this.modifyData=t,this.isModify=!0},remove:function(t){v().fire({title:"회원정보를 삭제하시겠습니까?",text:"회원정보가 영구히 삭제됩니다.",showCancelButton:!0,confirmButtonText:"삭제",cancelButtonText:"취소"}).then((t=>{t.isConfirmed&&v().fire("삭제 취소 !","","success")}))},limit:function(t){v().fire({title:"회원 접근을 제한하시겠습니까?",text:"회원의 접근이 제한됩니다.",showCancelButton:!0,confirmButtonText:"제한",cancelButtonText:"취소"}).then((t=>{t.isConfirmed&&v().fire("접근제한 완료 !","","success")}))},active:function(t){v().fire({title:"회원 접근을 허용하시겠습니까?",text:"회원의 접근제한이 해제됩니다.",showCancelButton:!0,confirmButtonText:"해제",cancelButtonText:"취소"}).then((t=>{t.isConfirmed&&v().fire("접근제한 해제 완료 !","","success")}))},cancelModify:function(){this.modifyData=[],this.isModify=!1}},watch:{currentPage:function(){this.rows=[];for(let t=(this.currentPage-1)*this.perPage;t<(this.currentPage-1)*this.perPage+this.perPage;t++){if(t>=this.reportData.length)break;this.rows.push(this.reportData[t])}},reportData:function(){let t=Object.keys(this.reportData).length;this.totalPage=t<=20?1:Math.ceil(t/this.perPage);for(let e=0;e<this.perPage;e++){if(Object.keys(this.reportData).length<=e)break;console.log(e),this.rows.push(this.reportData[e])}this.$forceUpdate()}},components:{Pagination:m.Z,Sort:y.Z,Filtering:D.Z,TableButton:P.Z,ModifyModal:k.Z,ExcelExport:w.Z}},C=o(89);const M=(0,C.Z)(x,[["render",g],["__scopeId","data-v-4ef45820"]]);var S=M}}]);
//# sourceMappingURL=953.8d982e49.js.map