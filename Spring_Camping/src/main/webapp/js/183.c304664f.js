"use strict";(self["webpackChunkcamping"]=self["webpackChunkcamping"]||[]).push([[183],{183:function(e,t,s){s.r(t),s.d(t,{default:function(){return ae}});var i=s(3396),o=s(7139);const n=e=>((0,i.dD)("data-v-3daf7cf3"),e=e(),(0,i.Cn)(),e),a={id:"container"},l={id:"container2"},d={class:"used-heads"},u={class:"used-pic"},r={class:"used-info"},c=n((()=>(0,i._)("div",null,null,-1))),m={class:"used-flex"},h={class:"used-name"},p={class:"used-status"},v={key:0,class:"dealGreen"},g={key:1,class:"dealRed"},f={key:2,class:"dealGray"},w={key:3,class:"statusBlack"},k=n((()=>(0,i._)("hr",null,null,-1))),b={class:"used-info2"},L={class:"used-info3"},C={class:"used-cnt"},I={class:"used-report"},y={key:1},_=n((()=>(0,i._)("option",{name:"dealStatus",value:"",disabled:"",selected:""},"거래상태 변경",-1))),T=n((()=>(0,i._)("option",{name:"dealStatus",value:"0"},"거래가능",-1))),D=n((()=>(0,i._)("option",{name:"dealStatus",value:"1"},"거래중",-1))),S=n((()=>(0,i._)("option",{name:"dealStatus",value:"2"},"거래완료",-1))),A=[_,T,D,S],B={key:0},j={key:1},E={key:2},x=n((()=>(0,i._)("hr",{class:"horizontal_line"},null,-1))),q={class:"used-foot"},z={class:"used-desc"},O=n((()=>(0,i._)("p",null,[(0,i._)("b",null,"상품 설명")],-1))),$=n((()=>(0,i._)("hr",{class:"horizontal-line"},null,-1))),P={class:"used-content"},U=n((()=>(0,i._)("div",{class:"vertical_line"},null,-1))),N={class:"used-writer"},J=["value"],R=["src"],M=n((()=>(0,i._)("div",{class:"used-writer-post"},null,-1))),F={class:"info-buttons"},H={key:3,type:"button",class:"chat-button2"};function K(e,t,s,n,_,T){const D=(0,i.up)("UsedDetailImage");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("form",l,[(0,i._)("div",d,[(0,i._)("div",u,[(0,i.Wm)(D,{usedId:e.usedId},null,8,["usedId"])]),(0,i._)("div",r,[(0,i._)("ul",null,[c,(0,i._)("div",m,[(0,i._)("div",h,[(0,i._)("li",null,[(0,i._)("h2",null,(0,o.zw)(e.usedList.usedName),1)])]),(0,i._)("div",p,[(0,i._)("li",null,[0==e.usedList.dealStatus&&0===e.usedList.usedStatus?((0,i.wg)(),(0,i.iD)("div",v,"거래가능")):(0,i.kq)("",!0),1==e.usedList.dealStatus&&0===e.usedList.usedStatus?((0,i.wg)(),(0,i.iD)("div",g,"거래중")):(0,i.kq)("",!0),2==e.usedList.dealStatus&&0===e.usedList.usedStatus?((0,i.wg)(),(0,i.iD)("div",f,"거래완료")):(0,i.kq)("",!0),0!=e.usedList.usedStatus?((0,i.wg)(),(0,i.iD)("div",w,"접근제한")):(0,i.kq)("",!0)])])]),(0,i._)("li",null,[(0,i._)("h3",null,"￦"+(0,o.zw)(e.usedList.usedPrice),1)]),k,(0,i._)("div",b,[(0,i._)("div",L,[(0,i._)("div",C," 🧡 찜 "+(0,o.zw)(this.likeCnt)+" · 👁‍🗨 조회수 "+(0,o.zw)(e.usedList.usedCnt)+" · "+(0,o.zw)(e.usedList.usedWrite),1),(0,i._)("div",I,[e.usedList.email!=e.memberId?((0,i.wg)(),(0,i.iD)("p",{key:0,onClick:t[0]||(t[0]=e=>T.reportItem())},"🚨신고하기")):(0,i.kq)("",!0),e.usedList.email===e.memberId&&0===e.usedList.usedStatus?((0,i.wg)(),(0,i.iD)("div",y,[(0,i._)("select",{id:"dealStatus",name:"dealStatus",onChange:t[1]||(t[1]=e=>T.dealChange())},A,32)])):(0,i.kq)("",!0)])]),(0,i._)("li",null," · 카테고리 : "+(0,o.zw)(e.usedList.usedCategory),1),(0,i._)("li",null,[(0,i.Uk)("· 상태 : "),0==e.usedList.usedCondition?((0,i.wg)(),(0,i.iD)("span",B,"상")):(0,i.kq)("",!0),1==e.usedList.usedCondition?((0,i.wg)(),(0,i.iD)("span",j,"중")):(0,i.kq)("",!0),2==e.usedList.usedCondition?((0,i.wg)(),(0,i.iD)("span",E,"하")):(0,i.kq)("",!0)]),(0,i._)("li",null," · 거래지역 : "+(0,o.zw)(e.usedList.usedPlace),1)])])])]),x,(0,i._)("div",q,[(0,i._)("div",z,[O,$,(0,i._)("div",P,(0,o.zw)(e.usedList.usedContent),1)]),U,(0,i._)("div",N,[(0,i._)("input",{type:"hidden",value:e.usedList.email},null,8,J),(0,i._)("img",{src:"http://localhost:8087/java/profile/"+e.storedProfile.imagePath+"/"+e.storedProfile.storedName},null,8,R),(0,i._)("b",null,(0,o.zw)(e.usedList.nickName),1),M]),(0,i._)("div",F,[e.usedList.email!=e.memberId&&"admin"!=e.memberId&&!0===this.liked?((0,i.wg)(),(0,i.iD)("button",{key:0,type:"button",class:"like-button",onClick:t[2]||(t[2]=e=>T.hearted())},"🤍 찜하기")):(0,i.kq)("",!0),e.usedList.email!=e.memberId&&"admin"!=e.memberId&&!1===this.liked?((0,i.wg)(),(0,i.iD)("button",{key:1,type:"button",class:"like-button2",onClick:t[3]||(t[3]=e=>T.hearted())},"🧡 찜 취소")):(0,i.kq)("",!0),e.usedList.email!=e.memberId&&"admin"!=e.memberId&&0===e.usedList.dealStatus?((0,i.wg)(),(0,i.iD)("button",{key:2,type:"button",class:"chat-button",onClick:t[4]||(t[4]=(...e)=>T.startChat&&T.startChat(...e))},"채팅하기")):(0,i.kq)("",!0),e.usedList.email!=e.memberId&&"admin"!=e.memberId&&0!=e.usedList.dealStatus?((0,i.wg)(),(0,i.iD)("button",H,"채팅하기")):(0,i.kq)("",!0),e.usedList.email===e.memberId&&2!=e.usedList.dealStatus?((0,i.wg)(),(0,i.iD)("button",{key:4,type:"button",class:"update-button",onClick:t[5]||(t[5]=e=>T.usedUpdate())},"수정하기")):(0,i.kq)("",!0),e.usedList.email===e.memberId&&2===e.usedList.dealStatus?((0,i.wg)(),(0,i.iD)("button",{key:5,type:"button",class:"update-button2",onClick:t[6]||(t[6]=e=>T.usedUpdateFail())},"수정하기")):(0,i.kq)("",!0),e.usedList.email===e.memberId&&1!=e.usedList.dealStatus?((0,i.wg)(),(0,i.iD)("button",{key:6,type:"button",class:"delete-button",onClick:t[7]||(t[7]=e=>T.usedDelete())},"삭제하기")):(0,i.kq)("",!0),e.usedList.email===e.memberId&&1===e.usedList.dealStatus?((0,i.wg)(),(0,i.iD)("button",{key:7,type:"button",class:"delete-button2",onClick:t[8]||(t[8]=e=>T.usedDeleteFail())},"삭제하기")):(0,i.kq)("",!0),"admin"===e.memberId?((0,i.wg)(),(0,i.iD)("button",{key:8,type:"button",class:"restrict-button",onClick:t[9]||(t[9]=e=>T.usedRestrict())},"접근제한")):(0,i.kq)("",!0)])])])])}s(7658);var Q=s(1818);const V=["src"];function G(e,t,s,o,n,a){const l=(0,i.up)("swiper-slide"),d=(0,i.up)("swiper");return(0,i.wg)(),(0,i.j4)(d,{navigation:!0,pagination:{clickable:!0},modules:o.modules,class:"mySwiper"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.images,(e=>((0,i.wg)(),(0,i.j4)(l,null,{default:(0,i.w5)((()=>[(0,i._)("img",{src:"http://localhost:8087/java/used/showImage/"+e.usedPath+"/"+e.usedStoredName},null,8,V)])),_:2},1024)))),256))])),_:1},8,["modules"])}var Z=s(5032),W=s(3390),Y={props:["usedId"],data:function(){return{images:[]}},created:function(){fetch("http://localhost:8087/java/used/usedImage/"+this.usedId).then((e=>e.json())).then((e=>{this.images=e,console.log(e)})).catch((e=>console.log(e))),console.log("http://localhost:8087/java/used/usedImage/"+this.usedId)},components:{Swiper:Z.tq,SwiperSlide:Z.o5},setup(){return{modules:[W.W_,W.tl]}}},X=s(89);const ee=(0,X.Z)(Y,[["render",G],["__scopeId","data-v-eec65798"]]);var te=ee,se=s(2492),ie=s.n(se),oe=(s(3266),s(4029),{data:function(){return{memberId:this.$store.state.email,usedList:[],images:[],usedId:this.$route.params.usedId,usedStatus:Q,liked:!0,likeCnt:0,storedProfile:""}},components:{UsedDetailImage:te},methods:{hearted:function(){if(event.preventDefault(),null===this.$store.state.email)ie().fire({icon:"warning",title:"로그인 후에 찜해주세요",toast:!0,showConfirmButton:!1,timer:1500,didOpen:e=>{e.addEventListener("mouseenter",ie().stopTimer),e.addEventListener("mouseleave",ie().resumeTimer)}});else if(this.$store.state.email===this.usedList.email)ie().fire({icon:"warning",title:"내가 쓴 글은 찜할 수 없어요",toast:!0,showConfirmButton:!1,timer:1e3,didOpen:e=>{e.addEventListener("mouseenter",ie().stopTimer),e.addEventListener("mouseleave",ie().resumeTimer)}});else{this.liked=!this.liked;let e={boardId:this.usedList.usedId,boardDivision:2,email:this.$store.state.email};console.log(e),console.log(e.boardId),!0===this.liked?(fetch("http://localhost:8087/java/save",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.text())).then((e=>{e>="1"&&(console.log("삭제되었습니다."),ie().fire({icon:"error",title:"찜 목록에서 삭제되었어요",toast:!0,showConfirmButton:!1,timer:1e3,didOpen:e=>{e.addEventListener("mouseenter",ie().stopTimer),e.addEventListener("mouseleave",ie().resumeTimer)}}))})).catch((e=>console.log(e))),this.$router.go()):!1===this.liked?fetch("http://localhost:8087/java/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.text())).then((e=>{e>="1"&&(console.log("입력되었습니다."),ie().fire({icon:"success",title:"찜 목록에 저장되었어요",toast:!0,showConfirmButton:!1,timer:1e3,didOpen:e=>{e.addEventListener("mouseenter",ie().stopTimer),e.addEventListener("mouseleave",ie().resumeTimer)}}),this.$router.go())})).catch((e=>console.log(e))):console.log("좋아요실패??")}},dealChange:function(){let e=document.querySelector("#dealStatus").value,t={};t["usedId"]=this.usedList.usedId,t["dealStatus"]=e,ie().fire({title:"",text:"거래 상태를 변경하시겠습니까?",icon:"warning",confirmButtonColor:"#65c66d",cancelButtonColor:"#cc5050",confirmButtonText:"네",cancelButtonText:"아니오",showCancelButton:!0}).then((e=>{e.isConfirmed&&(fetch("http://localhost:8087/java/used/dealUpdate",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json())).then((e=>{e>="1"?console.log("입력되었습니다."):console.log("입력 실패")})).catch((e=>console.log(e))),this.$router.go())}))},usedUpdate:function(){this.$router.push({name:"usedUpdate"})},usedDelete:function(){let e={};e["usedId"]=this.usedId,console.log(e),ie().fire({title:"",text:"정말로 삭제하시겠습니까?",icon:"warning",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"네",cancelButtonText:"아니오",reverseButtons:!0}).then((t=>{t.isConfirmed&&fetch("http://localhost:8087/java/used/statusUpdate",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{console.log(e)})).catch((e=>console.log(e))).then(ie().fire("삭제되었습니다")).finally(this.$router.push({name:"usedMain"}))}))},usedUpdateFail:function(){ie().fire({icon:"warning",title:"수정 불가",text:"거래 완료된 글입니다",toast:!0,showConfirmButton:!1,timer:1200,didOpen:e=>{e.addEventListener("mouseenter",ie().stopTimer),e.addEventListener("mouseleave",ie().resumeTimer)}})},usedDeleteFail:function(){ie().fire({icon:"warning",title:"삭제 불가",text:"거래중인 글입니다",toast:!0,showConfirmButton:!1,timer:1200,didOpen:e=>{e.addEventListener("mouseenter",ie().stopTimer),e.addEventListener("mouseleave",ie().resumeTimer)}})},usedRestrict:function(){let e={};e["usedId"]=this.usedId,console.log(e),ie().fire({title:"",text:"이 게시물에 접근 제한을 설정하시겠습니까?",icon:"warning",confirmButtonColor:"#65c66d",cancelButtonColor:"#cc5050",confirmButtonText:"네",cancelButtonText:"아니오",showCancelButton:!0}).then((t=>{t.isConfirmed&&fetch("http://localhost:8087/java/used/statusRestrict",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{console.log(e)})).catch((e=>console.log(e))).then(ie().fire({icon:"error",title:"접근 제한 설정이 완료되었습니다",toast:!0,showConfirmButton:!1,timer:1200,didOpen:e=>{e.addEventListener("mouseenter",ie().stopTimer),e.addEventListener("mouseleave",ie().resumeTimer),this.$router.push({name:"usedMain"})}}))}))},reportItem:function(){if(null===this.$store.state.email||""===this.$store.state.email)ie().fire({icon:"warning",title:"로그인 후에 신고할 수 있어요",toast:!0,showConfirmButton:!1,timer:1200,didOpen:e=>{e.addEventListener("mouseenter",ie().stopTimer),e.addEventListener("mouseleave",ie().resumeTimer)}});else{let e=ie().fire({title:"신고",html:'<select id="swal-input1" class="swal2-select" style="font-size:13px;"><option value="" disabled="">신고 분류</option><option value="판매 금지 물품">판매 금지 물품</option><option value="사기 게시물">사기 게시물</option><option value="중고거래 게시물이 아님">중고거래 게시물이 아님</option><option value="게시글 규정 위반">게시글 규정 위반</option><option value="기타">기타</option></select><textarea id="swal-input2" class="swal2-textarea" style="resize:none; width:80%; font-size:12px;" maxlength="450" placeholder="신고 사유를 입력하세요"></textarea>',focusConfirm:!1,showCancelButton:!0,confirmButtonText:"신고",cancelButtonText:"취소",confirmButtonColor:"rgba(6,68,32,0.8)",preConfirm:()=>{let e={boardId:this.usedId,boardDivision:2,reportDivision:document.getElementById("swal-input1").value,reportContent:document.getElementById("swal-input2").value,email:this.$store.state.email};return console.log(e),fetch("http://localhost:8087/java/report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.text())).then((e=>{"true"==e?ie().fire({icon:"success",title:"신고 완료 !",toast:!0,showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",ie().stopTimer),e.addEventListener("mouseleave",ie().resumeTimer),this.$router.push({path:"/used/UsedDetail/"+this.usedId})}}):ie().fire({icon:"error",title:"신고 실패 !",text:"계속 실패하면 고객센터에 문의해주세요.",toast:!0,showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",ie().stopTimer),e.addEventListener("mouseleave",ie().resumeTimer)}}),console.log(e)})),!1}});console.log(e)}},startChat(){let e={roomId:1,email:this.$store.state.email,targetEmail:[this.usedList.email],type:0};this.$emit("send",e)}},created(){const e=this;fetch("http://localhost:8087/java/used/usedDetail/"+this.usedId).then((e=>e.json())).then((t=>{console.log(t),e.usedList=t,console.log(e.usedList.email),fetch("http://localhost:8087/java/profile/"+e.usedList.email).then((e=>e.json())).then((e=>{this.storedProfile=e})).catch((e=>console.log(e)))})).catch((e=>console.log(e))),fetch("http://localhost:8087/java/used/usedImage/"+this.usedId).then((e=>e.json())).then((e=>{this.images=e})).catch((e=>console.log(e))),null!=this.$store.state.email&&fetch("http://localhost:8087/java/save?boardId="+this.usedId+"&email="+this.$store.state.email+"&boardDivision=2").then((e=>e.text())).then((e=>{"true"==e&&(this.liked=!1,console.log(this.liked),console.log("좋아요 저장내역 = "+e))})).catch((e=>console.log(e))),fetch("http://localhost:8087/java/used/updateLike/"+this.usedId).then((e=>e.json())).then((e=>{this.likeCnt=e})).catch((e=>console.log(e)))}});const ne=(0,X.Z)(oe,[["render",K],["__scopeId","data-v-3daf7cf3"]]);var ae=ne},1818:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAAeElEQVRIie2RMQqAMBAEh7zD1Hm7Ilhb+CMV9ANaGJsjRJSz24Etwk22uAMhhBAviUAP7DkDkP52I7AAh8maZ7bIze0LwzudKXN194qwmTI3N1DneJh/dgMwVYTRvF3dxHVwu44ZaMwHdzdyHXzLaQtFf7tCCCHKnI9xbjyljE9JAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=183.c304664f.js.map