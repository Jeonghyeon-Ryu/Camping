"use strict";(self["webpackChunkcamping"]=self["webpackChunkcamping"]||[]).push([[806],{4449:function(e,t,s){s.r(t),s.d(t,{default:function(){return Ae}});var n=s(3396),o=s(9242),a=s(7139);const i=e=>((0,n.dD)("data-v-58df8222"),e=e(),(0,n.Cn)(),e),l={class:"sns-container"},c={class:"sns-searchbox"},r=i((()=>(0,n._)("div",{class:"sns-page-id-container"},[(0,n._)("div",{class:"sns-page-id"},[(0,n._)("span",null,"게시물")])],-1))),h={class:"sns-detail-page-container"},m={class:"sns-write-id-container"},d=i((()=>(0,n._)("div",{class:"sns-write-form-id"},[(0,n._)("div",{class:"sns-write-id"},[(0,n._)("img",{src:""})])],-1))),u={class:"sns-write-form-id"},g={class:"sns-write-id"},p=["value"],v={class:"sns-write-location"},w=["value"],f={class:"sns-write-place"},x=["value"],y={class:"sns-control-button"},A=["src"],I={key:0,value:"글 수정",id:"btn-update"},k=i((()=>(0,n._)("option",{value:"글 삭제",id:"btn-delete"},"글 삭제",-1))),_={class:"sns-detail-container"},C={class:"sns-detail-form1"},T={class:"sns-img-container"},b=["value"],N=["src"],D={class:"sns-detail-form1"},S={class:"sns-write-all-form-container",id:"snsForm"},E={class:"sns-write-context"},j=["value"],B=["value"],V={class:"sns-write-hashtag"},q=["value"],R={class:"sns-write-date"},O={class:"sns-push-button-container"},Y={class:"sns-push-button-container1"},L={class:"sns-write-like-button"},M=["src"],z=["src"],H={class:"sns-push-button-container1"},F={class:"sns-write-comment-button"},J=["src"],K={class:"sns-push-button-container2"},U={class:"sns-notification"},Q=["src"],$={class:"sns-detail-comment-form"},P={class:"sns-comment-write-id-container"},G=i((()=>(0,n._)("div",{class:"sns-comment-write-id"},[(0,n._)("img",{src:""})],-1))),W={class:"sns-comment-write-id"},Z=["value"],X={class:"sns-comment-container"},ee={class:"sns-comment"},te={class:"sns-comment-write-context"},se=["value"],ne={class:"sns-comment-date"},oe={class:"sns-write-comment-container"},ae={class:"sns-search-list-container"},ie={key:0,class:"sns-search-list"},le=["onClick"];function ce(e,t,s,i,ce,re){const he=(0,n.up)("swiper-slide"),me=(0,n.up)("swiper");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n._)("div",c,[(0,n.wy)((0,n._)("input",{type:"search",onKeyup:t[0]||(t[0]=e=>re.checkEnter(e)),"onUpdate:modelValue":t[1]||(t[1]=t=>e.searchText=t),placeholder:"검색어를 입력해주세요."},null,544),[[o.nr,e.searchText]]),(0,n._)("button",{onClick:t[2]||(t[2]=(...e)=>re.doSearch&&re.doSearch(...e)),style:{display:"none"}},"조회")]),r,(0,n._)("div",h,[(0,n._)("div",m,[d,(0,n._)("div",u,[(0,n._)("div",g,[(0,n._)("input",{type:"text",value:e.snsItem.nickname},null,8,p)]),(0,n._)("div",v,[(0,n._)("input",{type:"text",value:e.snsItem.location},null,8,w)]),(0,n._)("div",f,[(0,n._)("input",{type:"text",value:e.snsItem.place},null,8,x)])]),(0,n._)("div",y,[(0,n._)("img",{src:e.snsControlImg,onClick:t[3]||(t[3]=(...e)=>re.doSnsController&&re.doSnsController(...e))},null,8,A),(0,n._)("select",{disabled:"",onChange:t[4]||(t[4]=e=>re.doSelectController(e)),name:"choose-control-reason",value:"게시글 관리"},[0!=e.$store.state.auth?((0,n.wg)(),(0,n.iD)("option",I,"글 수정")):(0,n.kq)("",!0),k],32)])]),(0,n._)("div",_,[(0,n._)("div",C,[(0,n._)("div",T,[(0,n.Wm)(me,{navigation:!0,pagination:{clickable:!0},modules:i.modules,class:"mySwiper"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.snsImgs,(e=>((0,n.wg)(),(0,n.j4)(he,null,{default:(0,n.w5)((()=>[(0,n._)("input",{type:"text",value:e.writeNo,style:{display:"none"}},null,8,b),(0,n._)("img",{src:"http://localhost:8087/java/showSnsImage/"+e.snsPath+"/"+e.storedName},null,8,N)])),_:2},1024)))),256))])),_:1},8,["modules"])])]),(0,n._)("div",D,[(0,n._)("form",S,[(0,n._)("div",E,[(0,n._)("textarea",{placeholder:"글내용 글내용",value:e.snsItem.content},null,8,j),(0,n._)("input",{type:"text",value:e.snsItem.writeNo,style:{display:"none"},name:"writeNo"},null,8,B)]),(0,n._)("div",V,[(0,n._)("textarea",{placeholder:"#태그",value:e.snsItem.hashtag},null,8,q)]),(0,n._)("div",R,[(0,n._)("p",null,(0,a.zw)(re.yyyyMMddhhmmss(e.snsItem.writeDate)),1)])]),(0,n._)("div",O,[(0,n._)("div",Y,[(0,n._)("div",L,[1==e.liked?((0,n.wg)(),(0,n.iD)("img",{key:0,onClick:t[5]||(t[5]=e=>re.hearted()),src:e.heartImg},null,8,M)):(0,n.kq)("",!0),0==e.liked?((0,n.wg)(),(0,n.iD)("img",{key:1,onClick:t[6]||(t[6]=e=>re.hearted()),src:e.heartImg2},null,8,z)):(0,n.kq)("",!0)])]),(0,n._)("div",H,[(0,n._)("div",F,[(0,n._)("img",{src:e.commentImg},null,8,J)])]),(0,n._)("div",K,[(0,n._)("div",U,[(0,n._)("img",{src:e.notifyImg,onClick:t[7]||(t[7]=e=>re.reportItem())},null,8,Q)])])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.snsCommentItems,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"sns-detail-comment-form-container",key:e.writeNo},[(0,n._)("div",$,[(0,n._)("div",P,[G,(0,n._)("div",W,[(0,n._)("input",{type:"text",value:e.nickname},null,8,Z)])]),(0,n._)("div",X,[(0,n._)("div",ee,[(0,n._)("div",te,[(0,n._)("textarea",{value:e.commentContent},null,8,se)])]),(0,n._)("div",ne,[(0,n._)("p",null,(0,a.zw)(re.yyyyMMddhhmmss(e.commentDate)),1)])])])])))),128)),(0,n._)("div",oe,[(0,n._)("div",ae,[(0,n.wy)((0,n._)("textarea",{placeholder:"댓글을 작성하세요","onUpdate:modelValue":t[8]||(t[8]=t=>e.commentTextarea=t)},null,512),[[o.nr,e.commentTextarea]]),(0,n._)("button",{type:"button",onClick:t[9]||(t[9]=(...e)=>re.doComment&&re.doComment(...e)),onKeyup:t[10]||(t[10]=(0,o.D2)(((...e)=>re.doComment&&re.doComment(...e)),["enter"]))},"게시",32)]),""!=e.searchResultNick?((0,n.wg)(),(0,n.iD)("div",ie,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.searchResultNick,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"sns-search-nick",onClick:t=>re.getNickname(e)},(0,a.zw)(e),9,le)))),256))])):(0,n.kq)("",!0)])])])])])}s(7658);var re=s.p+"img/heart.c9abe8e0.png",he=s.p+"img/heart2.3842dba9.png",me=s.p+"img/comment.aa777921.png",de="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABNElEQVRIie3VvS5EURQF4G+QIFEoTAQdEgUF0yr8vQIFKsVoxAtRqCiEN2CCVxBEQYzfIJFoRDeKc5kTwbiZmWis5CTnrKy9193n3rs3dUYm2k8gj2yVOR+xgj1oiJLvYLTK5JIcuxiPyQ0U0VIDgxZcYp1yBV04x2sNDF5xhu7Y4LfIYzFNQFqDOczW0yA1/g0qoimlfqPeBqtpDdJe0Qym0wSkqWAIm9H+qNYGVzhGCde/DXq/ojv0+rnZPWNQePrnH3St6MMt5XkwhgJucBqJ77EmtN+vMIUFdEbcAHowif3GhCwKA6IDbZF4GEtCdzz8lHwe22jHU8SfYBkH39YYoVmo7AW5iM8lXCHRVIUsLpLVh/7oXO14/cCI8D5KyXpIuIrIVJZ8oFv4yTLYEj6Iv8cb1KM25Pbc5xYAAAAASUVORK5CYII=",ue=s(1818),ge=s(5032),pe=s(3390),ve=s(2492),we=s.n(ve),fe=(s(9388),{data:function(){return{commentTextarea:"",snsImgs:[],writeNo:this.$route.params.writeNo,snsItem:{},snsCommentItems:[],snsCommentWriteText:"",searchNick:"",searchNickname:[],searchResultNick:[],searchText:"",commentImg:me,heartImg:re,heartImg2:he,liked:!0,notifyImg:de,snsControlImg:ue,snsControlshow:!0,nameTagIndex:-1,nameTagValue:"",spaceIndex:-1,isSearch:!1}},created:function(){fetch("http://localhost:8087/java/snsDetail/"+this.writeNo).then((e=>e.json())).then((e=>{this.snsItem=e})).catch((e=>console.log(e))),fetch("http://localhost:8087/java/snsImage/"+this.writeNo).then((e=>e.json())).then((e=>{this.snsImgs=e})).catch((e=>console.log(e))),fetch("http://localhost:8087/java/snsComment/"+this.writeNo).then((e=>e.json())).then((e=>{this.snsCommentItems=e})).catch((e=>console.log(e))),null!=this.$store.state.email&&fetch("http://localhost:8087/java/save?boardId="+this.writeNo+"&email="+this.$store.state.email+"&boardDivision=3").then((e=>e.text())).then((e=>{"true"==e&&(this.liked=!1)})).catch((e=>console.log(e))),fetch("http://localhost:8087/java/snsnickname").then((e=>e.text())).then((e=>e.substring(2,e.length-2))).then((e=>e.replaceAll('","'," "))).then((e=>e.split(" "))).then((e=>e.join(" "))).then((e=>{this.searchNickname.push(e)}))},methods:{hearted:function(){1==this.liked?this.doLike():0==this.liked&&this.doDislike()},doLike(){let e=document.querySelector(".sns-write-context input").value,t=3,s=this.$store.state.email,n={boardId:e,boardDivision:t,email:s};null!=this.$store.state.email&&fetch("http://localhost:8087/java/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((e=>e.text())).then((e=>{"true"==e&&(this.liked=!1,we().fire({confirmButtonText:"확인",title:"좋아요한 게시글에 저장되었습니다."}))})).catch((e=>console.log(e)))},doDislike(){let e=document.querySelector(".sns-write-context input").value,t=3,s=this.$store.state.email,n={boardId:e,boardDivision:t,email:s};fetch("http://localhost:8087/java/save",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((e=>e.text())).then((e=>{"true"==e&&(this.liked=!0,we().fire({confirmButtonText:"확인",title:"좋아요가 취소되었습니다."}))})).catch((e=>console.log(e)))},doSnsController(){document.querySelector(".sns-control-button select").classList.toggle("active"),document.querySelector(".sns-control-button select").disabled?document.querySelector(".sns-control-button select").disabled=!1:document.querySelector(".sns-control-button select").disabled=!0},doSelectController(e){console.log(e.target.value),0!=this.$store.state.auth?"글 수정"==e.target.value?this.getUpdate():"글 삭제"==e.target.value&&this.getDelete():"글 삭제"==e.target.value&&this.getDeleteByAdmin()},getUpdate(){this.$router.push({name:"SnsRewrite",params:{writeNo:this.snsItem.writeNo}})},getDelete(){let e=[];new FormData(document.querySelector("#snsForm")).forEach(((t,s)=>e[s]=t)),console.log(e),confirm("삭제하시겠습니까?")&&fetch("http://localhost:8087/java/snsDelete?writeNo="+e.writeNo,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.text())).then((e=>{this.$router.push({path:"/sns"})})).catch((e=>console.log(e)))},getDeleteByAdmin(){confirm("삭제하시겠습니까?")&&fetch("http://localhost:8087/java/snsDeleteByAdmin?writeNo="+this.writeNo,{method:"DELETE"}).then((e=>e.text())).then((e=>{this.$router.push({path:"/sns"})})).catch((e=>console.log(e)))},doComment(){let e=document.querySelector(".sns-write-comment-container textarea").value,t=document.querySelector(".sns-write-context input").value,s=this.$store.state.nickname,n=this.$store.state.email,o={commentContent:e,writeNo:t,nickname:s,email:n};console.log(o),fetch("http://localhost:8087/java/comment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then((e=>e.text())).then((e=>{console.log(e),"true"==e&&we().fire({title:"댓글이 등록되었습니다",confirmButtonText:"확인"}).then((e=>{e.isConfirmed&&this.$router.go(0)}))})).catch((e=>console.log(e)))},doSearch(){console.log(this.searchText)},checkEnter(e){let t=e.target.value,s=t.indexOf("@");if(s>=0){let e=t.substr(s+1,t.length);t=e.substr(0,e.indexOf(" ")),this.doNickHashtag(t)}13==e.keyCode&&this.doSearch()},doNickHashtag(e){this.searchResultNick=[];for(let t of this.searchNickname){let s=t.indexOf(e);if(s>=0){let s=t.split(" "),n=s.filter((t=>t.includes(e)));n.forEach((e=>{this.searchResultNick.includes(e)||this.searchResultNick.push(e)}))}}},getNickname(e){console.log(e),console.log(this.commentTextarea),console.log(this.nameTagIndex),console.log(this.spaceIndex);let t=this.commentTextarea.substring(0,this.nameTagIndex+1)+e+this.commentTextarea.substring(this.spaceIndex,this.commentTextarea.length);console.log(t),this.commentTextarea=t,this.searchResultNick=""},yyyyMMddhhmmss:function(e){if(""==e)return"";var t=new Date(e),s=t.getFullYear(),n=t.getMonth()+1,o=t.getDate(),a=("0"+t.getHours()).slice(-2),i=("0"+t.getMinutes()).slice(-2),l=("0"+t.getSeconds()).slice(-2);return n<10&&(n="0"+n),o<10&&(o="0"+o),s+"-"+n+"-"+o+" "+a+":"+i+":"+l},reportItem(){we().fire({title:"신고",html:'<select id="swal-input1" class="swal2-select" style="font-size:13px;"><option value="" disabled="">신고 분류</option><option value="잘못된 정보">잘못된 정보</option><option value="게시글 규정 위반">게시글 규정 위반</option><option value="기타">기타</option></select><textarea id="swal-input2" class="swal2-textarea" style="resize:none; width:80%; font-size:12px;" maxlength="450" placeholder="신고 사유를 입력하세요"></textarea>',focusConfirm:!1,showCancelButton:!0,confirmButtonText:"신고",cancelButtonText:"취소",confirmButtonColor:"rgba(6,68,32,0.8)",preConfirm:()=>{let e={boardId:this.writeNo,boardDivision:3,reportDivision:document.getElementById("swal-input1").value,reportContent:document.getElementById("swal-input2").value,email:this.$store.state.email};return console.log(e),fetch("http://localhost:8087/java/report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.text())).then((e=>{"true"==e?we().fire({icon:"success",title:"신고 완료 !",toast:!0,showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",we().stopTimer),e.addEventListener("mouseleave",we().resumeTimer),this.$router.push({name:"SnsDetail",params:{writeNo:this.snsItem.writeNo}})}}):we().fire({icon:"error",title:"신고 실패 !",text:"계속 실패하면 고객센터에 문의해주세요.",toast:!0,showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",we().stopTimer),e.addEventListener("mouseleave",we().resumeTimer)}})})),!1}})},nameTagSearch(){this.doNickHashtag(this.nameTagValue),console.log("탐색 : ",this.nameTagValue),console.log(this.searchResultNick)}},watch:{commentTextarea(e,t){console.log("텍스트"),this.nameTagIndex=e.lastIndexOf("@"),this.spaceIndex=e.lastIndexOf(" ")},nameTagIndex(e,t){e>t?this.isSearch=!0:e<t&&(this.isSearch=!1)},spaceIndex(e,t){this.nameTagIndex<e&&1==this.isSearch&&(this.nameTagValue=this.commentTextarea.substring(this.nameTagIndex+1,this.spaceIndex),this.nameTagSearch(this.nameTagValue),this.isSearch=!1)}},components:{Swiper:ge.tq,SwiperSlide:ge.o5},setup(){return{modules:[pe.W_,pe.tl]}}}),xe=s(89);const ye=(0,xe.Z)(fe,[["render",ce],["__scopeId","data-v-58df8222"]]);var Ae=ye},1818:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAAeElEQVRIie2RMQqAMBAEh7zD1Hm7Ilhb+CMV9ANaGJsjRJSz24Etwk22uAMhhBAviUAP7DkDkP52I7AAh8maZ7bIze0LwzudKXN194qwmTI3N1DneJh/dgMwVYTRvF3dxHVwu44ZaMwHdzdyHXzLaQtFf7tCCCHKnI9xbjyljE9JAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=806.8d13199a.js.map