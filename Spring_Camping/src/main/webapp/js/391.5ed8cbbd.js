"use strict";(self["webpackChunkcamping"]=self["webpackChunkcamping"]||[]).push([[391],{2391:function(o,t,e){e.r(t),e.d(t,{default:function(){return g}});var a=e(3396),r=e(9242),n=e(7139);const c={class:"container",id:"app"},l=(0,a._)("div",{class:"row"},[(0,a._)("div",{class:"col-md-12"},[(0,a._)("h3",null,"채팅방 리스트")])],-1),m={class:"input-group"},s=(0,a._)("div",{class:"input-group-prepend"},[(0,a._)("label",{class:"input-group-text"},"방제목")],-1),i={class:"input-group-append"},p={class:"list-group"},u=["onClick"];function d(o,t,e,d,h,f){return(0,a.wg)(),(0,a.iD)("div",c,[l,(0,a._)("div",m,[s,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=t=>o.room_name=t),onKeyup:t[1]||(t[1]=(0,r.D2)(((...o)=>f.createRoom&&f.createRoom(...o)),["enter"]))},null,544),[[r.nr,o.room_name]]),(0,a._)("div",i,[(0,a._)("button",{class:"btn btn-primary",type:"button",onClick:t[2]||(t[2]=(...o)=>f.createRoom&&f.createRoom(...o))},"채팅방 개설")])]),(0,a._)("ul",p,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.chatrooms,(o=>((0,a.wg)(),(0,a.iD)("li",{class:"list-group-item list-group-item-action",key:o.roomId,onClick:t=>f.enterRoom(o.roomId)},(0,n.zw)(o.roomName),9,u)))),128))])])}var h={el:"#app",data:{room_name:"",chatrooms:[]},created(){this.findAllRoom()},methods:{findAllRoom:function(){fetch("http://localhost:8087/chat/rooms",{method:"GET"}).then((o=>{this.chatrooms=o.data}))},createRoom:function(){if(""!==this.room_name){var o=new URLSearchParams;o.append("name",this.room_name),fetch("/chat/room",{method:"PUT",params:o}).then((o=>{alert(o.data.roomName+"방 개설에 성공하였습니다."),this.room_name="",this.findAllRoom()})).catch((o=>{alert("채팅방 개설에 실패하였습니다.")}))}else alert("방 제목을 입력해 주십시요.")},enterRoom:function(o){var t=prompt("대화명을 입력해 주세요.");""!==t&&(localStorage.setItem("wschat.sender",t),localStorage.setItem("wschat.roomId",o),location.href="/chat/room/enter/"+o)}}},f=e(89);const _=(0,f.Z)(h,[["render",d]]);var g=_}}]);
//# sourceMappingURL=391.5ed8cbbd.js.map